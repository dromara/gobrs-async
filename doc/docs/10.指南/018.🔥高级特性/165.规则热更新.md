---
title: ğŸœè§„åˆ™çƒ­æ›´æ–°
date: 2020-05-11 13:54:56
permalink: /pages/2f844b
article: false
---

## çƒ­æ›´æ–°è§„åˆ™

**åœ¨Gobrs-Async**ä¸­é»˜è®¤è§„åˆ™åªä¼šåŠ è½½ä¸€æ¬¡ï¼Œå¯èƒ½æœ‰æœ‹å‹å¯èƒ½ä¼šæœ‰è§„åˆ™åŠ¨æ€å˜åŒ–çš„éœ€æ±‚ï¼Œä½¿ç”¨ç¨‹åºåŠ¨æ€ä¿®æ”¹è§„åˆ™é…ç½®ã€‚è€Œä¸éœ€è¦é‡æ–°å¯åŠ¨ç¨‹åºã€‚é‚£ä¹ˆå¯¹äºè¿™ç§éœ€æ±‚
**Gobrs-Async** åŒæ ·æ”¯æŒã€‚

> Gobrs-Async é»˜è®¤ä½¿ç”¨CopyOnWrite æœºåˆ¶æ›´æ–°çš„è§„åˆ™é…ç½®ï¼Œå¹¶å‘åº¦æ›´é«˜ã€‚åŒæ—¶ç»´æŠ¤äº†çº¿ç¨‹å®‰å…¨æœºåˆ¶ã€‚

```java 

// è§„åˆ™çƒ­åŠ è½½å™¨
@Resource
private RuleThermalLoad ruleThermalLoad;

// çƒ­æ›´æ–°è§„åˆ™ä»»åŠ¡ æ— éœ€å¯åŠ¨ç¨‹åºï¼Œ åªéœ€è¦å°†è§„åˆ™äº¤ç»™ è§„åˆ™çƒ­åŠ è½½å™¨ å³å¯å®Œæˆæ¥å…¥
public void updateRule(Rule rule) {
    // å•ä»»åŠ¡ä¿®æ”¹
    Rule r = new Rule();
    r.setName("ruleName");
    r.setContent("AService->CService->EService->GService; BService->DService->FService->HService;");
    ruleThermalLoad.load(rule);
    
    // æ‰¹é‡ä¿®æ”¹ 
    List<Rule> updateRules = new ArrayList<Rule>();
    updateRules.add(r);
    // updateRules.add(...);
    ruleThermalLoad.load(updateRules);
}
```

### éªŒè¯
å¦‚æœæ—¥å¿—æ‰“å°å¦‚ä¸‹æç¤ºï¼Œè¯´æ˜é…ç½®çƒ­æ›´æ–°æˆåŠŸ
```sh
com.gobrs.async.engine.RuleThermalLoad   : rule test update success
```



























