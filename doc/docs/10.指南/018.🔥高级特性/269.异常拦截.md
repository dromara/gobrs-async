---
title: ğŸ’å¼‚å¸¸æ‹¦æˆª
date: 2020-05-11 13:54:56
permalink: /pages/2f844de
article: false
---

## å¯é…ç½®çš„å…¨å±€å¼‚å¸¸æ‹¦æˆªå™¨

å¦‚æœä½ æƒ³åœ¨ä»»åŠ¡æµç¨‹æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼ŒæŸä¸€ä»»åŠ¡æ‰§è¡Œå¼‚å¸¸ï¼Œæƒ³è®©æ•´ä¸ªä»»åŠ¡æµç¨‹åœæ­¢ä¸‹æ¥ã€‚å¹¶ä¸”å¯è‡ªå®šæ‹¦æˆªè¿™ä¸ªå¼‚å¸¸ï¼Œå¯åœ¨å‘ç”Ÿå¼‚å¸¸æ—¶ æ‰§è¡ŒæŠ¥è­¦æˆ–è€…æ‰“å°å¼‚å¸¸ç­‰ä¸šåŠ¡ã€‚


## å¼€å¯å…¨å±€å¼‚å¸¸æ‹¦æˆª

é…ç½®<code>application.yml</code>
```yaml

gobrs:
  async:
    config:
      rules:
        # è§„åˆ™ æ˜¯æ•°ç»„ç±»å‹çš„ å¤šç»„è§„åˆ™
        - name: "general"
          content: "AService->BService->FService->GService->HService;EService->CService;AService"
          task-interrupt: true # å±€éƒ¨å¼‚å¸¸æ˜¯å¦æ‰“æ–­ä¸»æµç¨‹ é»˜è®¤ false
```

## å¼‚å¸¸æ‹¦æˆªå™¨
å®ç° <code>AsyncExceptionInterceptor</code> æ¥å£ï¼Œå¼€å‘ä¸€ä¸ªè‡ªå®šä¹‰çš„å¼‚å¸¸å¤„ç†æ‹¦æˆªå™¨
```java 
/**
 * @program: gobrs-async
 * @ClassName GobrsExceptionInter
 * @description: ä¸»æµç¨‹ä¸­æ–­å¼‚å¸¸è‡ªå®šä¹‰å¤„ç†
 * @author: sizegang
 * @create: 2022-02-19 22:55
     * @Version 1.0
 **/
@Component
public class GobrsExceptionInter implements AsyncTaskExceptionInterceptor {

    @Override
    public CompletionException exception(Throwable throwable, Boolean state) {
        System.out.println("è‡ªå®šä¹‰å…¨å±€å¼‚å¸¸ exceptor Interceptor è§¦å‘");
        return new CompletionException(throwable);
    }
}

```

## é»˜è®¤æƒ…å†µ
é»˜è®¤ **Gobrs-Async** å¯¹å…¨å±€æ‹¦æˆªå™¨å¼€å…³æ˜¯å…³é—­çš„ï¼Œå¦‚æœæµç¨‹ä¸­æŸä¸€ä»»åŠ¡å¼‚å¸¸ï¼Œåªä¼šåœæ­¢æ‰€ä¾èµ–è¯¥å¼‚å¸¸ä»»åŠ¡çš„ä»»åŠ¡åœæ­¢ï¼Œå¹¶è°ƒç”¨callback é€šçŸ¥ ä¸‹æ¸¸ä»»åŠ¡

::: cardList

```yaml
- name: æŠ€æœ¯å°å±‹
  desc: å¤§é“è‡³ç®€ï¼ŒçŸ¥æ˜“è¡Œéš¾
  avatar: https://cdn.jsdelivr.net/gh/xugaoyi/image_store/blog/20200122153807.jpg # å¯é€‰
  link: https://docs.sizegang.cn/ # å¯é€‰
  bgColor: '#CBEAFA' # å¯é€‰ï¼Œé»˜è®¤var(--bodyBg)ã€‚é¢œè‰²å€¼æœ‰#å·æ—¶è¯·æ·»åŠ å•å¼•å·
  textColor: '#6854A1' # å¯é€‰ï¼Œé»˜è®¤var(--textColor)
- name: æ¶æ„å¸ˆå¿…ç»ä¹‹è·¯
  desc: 'ç²¾å“å­¦ä¹ èµ„æº'
  avatar: https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/avatar/avatar.png
  link: https://learn.sizegang.cn
  bgColor: '#718971'
  textColor: '#fff'
- name: å¹³å‡¡çš„ä½ æˆ‘
  desc: å¿«ä¹è´­ç‰©ï¼Œäº«å—ç”Ÿæ´»
  avatar: https://reinness.com/avatar.png
  link: https://m.jd.com
  bgColor: '#FCDBA0'
  textColor: '#A05F2C'
```
:::
