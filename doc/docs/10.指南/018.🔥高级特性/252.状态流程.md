---
title: ğŸŒ¹çŠ¶æ€æµç¨‹
date: 2020-05-11 13:54:56
permalink: /pages/zstdsgq
article: false
---

## çŠ¶æ€ä»»åŠ¡æµç¨‹
**ä½•ä¸ºçŠ¶æ€ä»»åŠ¡æµç¨‹ï¼Ÿ** å…¶å®å¾ˆå¥½ç†è§£ï¼Œæ¯”å¦‚è¯´æœ‰ Aã€Bã€Cã€D å››ä¸ªä»»åŠ¡ã€‚Dä»»åŠ¡çš„æ‰§è¡Œä¾èµ–Aã€Bã€Cä¸‰ä¸ªä»»åŠ¡ï¼Œ ä½†æ˜¯A B C çš„æ‰§è¡ŒçŠ¶æ€æœ‰ä¸å¥½ç¡®å®šï¼ˆè¿è¡Œæ—¶çŠ¶æ€ï¼‰
å¦‚æœæƒ³æ ¹æ®ä»»åŠ¡è¿”å›å€¼çš„çŠ¶æ€å†³å®šæµç¨‹å¦‚ä½•æ‰§è¡Œæ€ä¹ˆåŠå‘¢ï¼Ÿ æ¯”å¦‚è¯´A B Cä¸‰ä¸ªä»»åŠ¡ä¸­æ ¹æ®ä¸é€šçš„ä¸šåŠ¡é€»è¾‘ä¼šè¿”å›ä¸é€šçš„ä»»åŠ¡çŠ¶æ€ã€‚é‡åˆ°è¿™ç§æƒ…å†µå¯ä»¥ä½¿ç”¨`Gobrs-Async` 
ä¸ºä½ æä¾›çš„åŠ¨æ€çŠ¶æ€èƒ½åŠ›é€‰æ‹©ä»»åŠ¡æ‰§è¡Œã€‚
æ¯”å¦‚ï¼š A ä¸šåŠ¡è¿”å›true åˆ™å°±æ‰§è¡ŒDä»»åŠ¡ï¼Œæ— éœ€å…³å¿ƒBã€Cä»»åŠ¡çš„æ‰§è¡Œè¿‡ç¨‹ã€‚

ä¸å¼€å‘ä¸€ä¸ªæ™®é€šä»»åŠ¡ä¸é€šçš„æ˜¯ï¼Œè¿”å›ç»“æœéœ€è¦æ˜¯ `AnyConditionResult` ç±»å‹ã€‚

```java  
package com.gobrs.async.test.task.condition;

import com.gobrs.async.core.TaskSupport;
import com.gobrs.async.core.anno.Task;
import com.gobrs.async.core.common.domain.AnyConditionResult;
import com.gobrs.async.core.task.AsyncTask;
import org.springframework.stereotype.Component;

/**
 * The type A service.
 *
 * @program: gobrs -async-starter
 * @ClassName AService
 * @description: ä»»åŠ¡ä¾èµ–ç±»å‹
 * AServiceCondition,BServiceCondition,CServiceCondition->DServiceCondition:anyCondition
 * <p>
 * ç®€åŒ–é…ç½®
 * <p>
 * A,B,C->D:anyCondition
 * <p>
 * Dæ ¹æ® A,B,C è¿”å›çš„ä»»åŠ¡ç»“æœä¸­çš„ AnyCondition çš„stateçŠ¶æ€ è¿›è¡Œåˆ¤æ–­æ˜¯å¦ç»§ç»­æ‰§è¡Œ å­ä»»åŠ¡ã€‚
 * @author: sizegang
 * @create: 2022 -03-20
 */
@Task(failSubExec = true)
public class AServiceCondition extends AsyncTask {
    /**
     * The .
     */
    int sums = 10000;
    @Override
    public AnyConditionResult<String> task(Object o, TaskSupport support) {
        AnyConditionResult.Builder<String> builder = AnyConditionResult.builder();
        try {
            System.out.println("AServiceCondition Begin");
            Thread.sleep(300);
            for (int i1 = 0; i1 < sums; i1++) {
                i1 += i1;
            }
            System.out.println("AServiceCondition Finish");
        } catch (InterruptedException e) {
            e.printStackTrace();
            //  å¼‚å¸¸è¿”å›false
           return builder.setState(false).build();
        }
        return builder.setState(true).build();
    }
}

```

`AnyConditionResult.Builder<String> builder = AnyConditionResult.builder();`  æ„é€ å‡½æ•°é»˜è®¤åˆ›å»ºä¸€ä¸ª `true`çš„çŠ¶æ€ã€‚

## å•æµ‹ç”¨ä¾‹
[å•æµ‹åœ°å€](https://gitee.com/dromara/gobrs-async/blob/master/gobrs-async-test/src/test/java/com/gobrs/async/test/CaseAnyCondition.java)

## è¿è¡Œç»“æœ
```sh  
2022-12-09 17:48:44.676  INFO 58639 --- [           main] com.gobrs.async.core.GobrsPrint          : Gobrs-Async Load Successful
CServiceCondition Begin
BServiceCondition Begin
AServiceCondition Begin
BServiceCondition Finish
AServiceCondition Finish
DServiceCondition Begin
DServiceCondition Finish
2022-12-09 17:48:45.435  INFO 58639 --- [pool-1-thread-1] com.gobrs.async.core.TaskLoader          : ã€ProcessTraceã€‘Total cost: 334ms | traceId = 11770483512420224 | ã€taskã€‘BServiceCondition cost :3msã€stateã€‘ï¼šsuccess; ->ã€taskã€‘AServiceCondition cost :305msã€stateã€‘ï¼šsuccess; ->ã€taskã€‘DServiceCondition:anyCondition cost :0msã€stateã€‘ï¼šsuccess; 
377
ã€gobrs-asyncã€‘ testCondition æ‰§è¡Œå®Œæˆ
```


::: cardList

```yaml
- name: æŠ€æœ¯å°å±‹
  desc: å¤§é“è‡³ç®€ï¼ŒçŸ¥æ˜“è¡Œéš¾
  avatar: https://cdn.jsdelivr.net/gh/xugaoyi/image_store/blog/20200122153807.jpg # å¯é€‰
  link: https://docs.sizegang.cn/ # å¯é€‰
  bgColor: '#CBEAFA' # å¯é€‰ï¼Œé»˜è®¤var(--bodyBg)ã€‚é¢œè‰²å€¼æœ‰#å·æ—¶è¯·æ·»åŠ å•å¼•å·
  textColor: '#6854A1' # å¯é€‰ï¼Œé»˜è®¤var(--textColor)
- name: æ¶æ„å¸ˆå¿…ç»ä¹‹è·¯
  desc: 'ç²¾å“å­¦ä¹ èµ„æº'
  avatar: https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/avatar/avatar.png
  link: https://learn.sizegang.cn
  bgColor: '#718971'
  textColor: '#fff'
- name: å¹³å‡¡çš„ä½ æˆ‘
  desc: å¿«ä¹è´­ç‰©ï¼Œäº«å—ç”Ÿæ´»
  avatar: https://reinness.com/avatar.png
  link: https://m.jd.com
  bgColor: '#FCDBA0'
  textColor: '#A05F2C'
```
:::





