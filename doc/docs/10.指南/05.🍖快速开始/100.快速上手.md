---
title: ğŸ”å¿«é€Ÿä¸Šæ‰‹
date: 2020-05-11 13:54:40
permalink: /pages/793dcb
article: false
---

## å¦‚ä½•è¿è¡Œ Demo

å…‹éš† **Gobrs-Async**  [æºä»£ç ](https://github.com/dromara/gobrs-async)

å¯åŠ¨ [Gobrs-Async-Example](https://github.com/dromara/gobrs-async/tree/master-v2/gobrs-async-example  ) æ¨¡å—ä¸‹ GobrsAsyncExampleApplication åº”ç”¨ç±»

é€šè¿‡æ¥å£ä¿®æ”¹çº¿ç¨‹æ± ä¸­çš„é…ç½®ã€‚HTTP GET è·¯å¾„ï¼š`http://localhost:8888/gobrs/testGobrs`ï¼ŒæŸ¥çœ‹Idea æ§åˆ¶å° æ‰“å°ç»“æœå¦‚ä¸‹ï¼š

```sh
EService Begin
AService Begin
AService Finish
BService Begin
BService Finish
FService Begin
EService Finish
CService Begin
CService Finish
FService Finish
GService Begin
GService Finish
HService Begin
HService Finish
2022-11-27 19:08:51.080  INFO 61949 --- [nio-8888-exec-1] com.gobrs.async.core.TaskLoader          : ã€ProcessTraceã€‘Total cost: 2536ms | traceId = 11702850586978176 | ã€taskã€‘AService cost :302msã€stateã€‘ï¼šsuccess; ->ã€taskã€‘BService cost :0msã€stateã€‘ï¼šsuccess; ->ã€taskã€‘EService cost :602msã€stateã€‘ï¼šsuccess; ->ã€taskã€‘CService cost :305msã€stateã€‘ï¼šsuccess; ->ã€taskã€‘FService cost :2006msã€stateã€‘ï¼šsuccess; ->ã€taskã€‘GService cost :105msã€stateã€‘ï¼šsuccess; ->ã€taskã€‘HService cost :102msã€stateã€‘ï¼šsuccess;
2551
```

### æ‰§è¡Œè¿‡ç¨‹

**ä»æ—¥å¿—ä¸­å¯ä»¥çœ‹å‡ºæ•´ä¸ªæµç¨‹çš„æ‰§è¡Œè¿‡ç¨‹**

```sh
ã€ProcessTraceã€‘Total cost: 2536ms | traceId = 11702850586978176 | ã€taskã€‘AService cost :302msã€stateã€‘ï¼šsuccess; ->ã€taskã€‘BService cost :0msã€stateã€‘ï¼šsuccess; ->ã€taskã€‘EService cost :602msã€stateã€‘ï¼šsuccess; ->ã€taskã€‘CService cost :305msã€stateã€‘ï¼šsuccess; ->ã€taskã€‘FService cost :2006msã€stateã€‘ï¼šsuccess; ->ã€taskã€‘GService cost :105msã€stateã€‘ï¼šsuccess; ->ã€taskã€‘HService cost :102msã€stateã€‘ï¼šsuccess;
```
* Total cost: ä»»åŠ¡æµç¨‹æ€»è€—æ—¶
* traceId: ä»»åŠ¡æµç¨‹é“¾è·¯id
* cost: å•ä¸ªä»»åŠ¡æ‰§è¡Œæ—¶é—´




### é…ç½®æ–‡ä»¶
```yaml
server:
  port: 8888 # ç«¯å£: 8888
gobrs:
  async:
    config:
      rules:
        # è§„åˆ™ æ˜¯æ•°ç»„ç±»å‹çš„ å¤šç»„è§„åˆ™
        - name: "general"
          content: "AService->BService->FService->GService->HService;EService->CService;AService"
          task-interrupt: false # å±€éƒ¨å¼‚å¸¸æ˜¯å¦æ‰“æ–­ä¸»æµç¨‹ é»˜è®¤false
          transaction: false
```

### å…³é—­Gobrs-Async

```yaml
server:
  port: 8888 # ç«¯å£: 8080
gobrs:
async:
  enable: false # å…³é—­ç¼–æ’å¼•æ“
  rules:
    # æ”¯æŒå¤šå‘½åç©ºé—´
    - name: "ruleName" # è§„åˆ™åç§°
      content: "AService->BService,CService,FService; BService->FService,GService;"
    - name: "azh"
      content: "AService->BService,CService,FService; BService->FService,GService;"
  task-interrupt: false #å±€éƒ¨å¼‚å¸¸æ˜¯å¦æ‰“æ–­ä¸»æµç¨‹
```
